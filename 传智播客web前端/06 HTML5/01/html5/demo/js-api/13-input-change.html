<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <title>读取本地文件信息</title>
  <meta name="author" content="汪磊">
  <link rel="stylesheet" href="../bootstrap/css/bootstrap.min.css">
</head>

<body>
  <div class="container">
    <div class="page-header">
      <h2>文件选择改变</h2>
    </div>
    <form action="#">
      <div class="form-group">
        <label for="input_1">请选择文件</label>
        <input id="input_1" class="form-control" name="input_1" type="file" multiple>
        <span id="counter" class="badge pull-right"></span>
      </div>
    </form>
    <ul id="result" class="list-group"></ul>
  </div>
  <script>
    (function() {
      var input = document.querySelector('#input_1');
      var results = document.querySelector('#result');
      var counter = document.querySelector('#counter');
      input.addEventListener('change', function() {
        if (input.files.length) {
          counter.innerHTML = input.files.length;
          for (var i = 0; i < input.files.length; i++) {
            var file = input.files.item(i);
            var li = document.createElement('li');
            li.className = 'list-group-item';
            var h4 = document.createElement('h4');
            h4.className = 'list-group-item-heading';
            h4.appendChild(document.createTextNode(file.name));
            var p = document.createElement('p');
            p.className = 'list-group-item-text';
            p.appendChild(document.createTextNode(file.type + ' ' + file.lastModifiedDate.toLocaleDateString() + ' ' + (file.size / 1024 / 1024).toFixed(2) + 'MB'));
            li.appendChild(h4);
            li.appendChild(p);
            results.appendChild(li);
          }
        } else {
          result.innerHTML = '没有选择任何文件';
        }
      });
    })();
  </script>
</body>

</html>
