<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>判断元素item在给定数组中 的位置</title>
</head>
<body>
    <p>1:已知数组[1,2,3,4],3</p>
    <p>如果数组中存在 item，则返回元素在数组中的位置，否则返回 -1</p>

    <p>2:计算数组中元素的总和[1,2,3,4]</p>

    <p>3:移除数组 arr 中的所有值与 item 相等的元素。不要直接修改数组 arr，结果返回新的数组</p>

    <p>4:移除数组 arr 中的所有值与 item 相等的元素，直接在给定的 arr 数组上进行操作，并将结果返回</p>
</body>
<script>
    /* Ⅰ 查找位置 */
    var arr = [1,2,3,4];
    function indexOf(arr,item){
        if(Array.prototype.indexOf){
            return arr.indexOf(item);//lastIndexOf()查找指定的字符串最后出现的位置
        }else{
            for(var i = 0;i < arr.length;i++){
                if(arr[i] === item){
                    return i;
                }
            }
        }
        return -1;
    }
    indexOf(arr,3);

    /* Ⅰ plus版  即使数组中包含对象数组*/
    var arr2 = [{name:'zsx',sex:'男'},'18',3,5,8,[1219]];
    
     function indexOfPlus(arr,item){
         if(!arr || !arr.length){
             return -1;
         }else{
             for(var i = 0;i < arr.length;i++){
                 if(JSON.stringify(arr[i]) === JSON.stringify(item)){
                     return i;
                 };
             }
         }
     }

     indexOfPlus(arr2,8);


     /* Ⅱ  计算数组中元素的总和 */
     var arr3 = [1,2,3,4];

     function sum(arr){
         if(!arr || !arr.length){
             return -1;
         }else{
             var sum = 0;
             for(var i = 0;i < arr.length;i++){
                 sum = sum + arr[i];
             }
             return sum;
         }
     }

    /* Ⅱ plus版 */
    var arr4 = [1,2,3,4];
    
    function sumPlus(arr){
        var len = arr.length;
        if(len == 0){
            return 0;
        }else if(len == 1){
            return arr[0];
        }else{
            return arr[0] + sumPlus(arr.slice(1));
        }
    }

    sumPlus(arr4);

    /* Ⅱ 函数式编程 */
    function sum(arr) {
        return arr.reduce(function(prev, curr, idx, arr){
            return prev + curr;
        });
    }

    /* Ⅱ forEach() */
    function sum(arr) {
        var s = 0;
        arr.forEach(function(val, idx, arr) {
            s += val;
        }, 0);
    
        return s;
    };

    /* Ⅱ eval 和join() */
    function sum(arr) {
        return eval(arr.join("+"));
    };

    /* Ⅲ 
    slice() 用于添加 或 删除 或替换 数组的元素
    */
    var arr4 = [1,2,3,4,5,6];
    function remove(arr,item){
        var newarr = arr.slice(0);
        for(var i = 0; i < newarr.length; i++){
            if(newarr[i] == item){
                newarr.slice(i,1);
                i--;
            }
        }
        return newarr;
    }
    remove(arr4,6);

    /* Ⅲ 
    push()向数组的末尾添加一个或多个元素，并返回新的长度
     */
    function remove(arr,item){
        var newarr = [];
        for(var i=0;i<arr.length;i++){
            if(arr[i] != item){
                newarr.push(arr[i]);
            }
        }
        return newarr;
    }

    function remove(arr,item){
        var newarr = [];
        for(var i = 0; i < arr.length;i++){
            if(arr[i] == item)continue;
            newarr.push(arr[i]);
        }
        return newarr;
    }

    /* Ⅲ Array.prototype.filter() */
    function remove(arr,item){
        return arr.filter(function(ele){
            return ele != item;
        })
    }

    /* Ⅳ splice() */
    function removeWithoutCopy(arr,item){
        for(var i = 0; i < arr.length;i++){
            if(item == arr[i]){
                arr.splice(i,1);
                i--;
            }
        }
        return arr;
    }
</script>
</html>