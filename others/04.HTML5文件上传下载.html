<!DOCTYPE html>
<html>
<head>
	<title>文件上传&&下载</title>
</head>
<body>
	<!-- <input type="file" name="" id="files" multiple> -->
	<!-- 处理webkit内核浏览器 -->
	<!-- <input type="file" name="" id="files" multiple accept="image/gif,image/jpeg,image/jpg,image/png"> -->

	<!-- 上传图片预览 -->
	<input type="file" id="files" accept="image/jpeg,image/jpg,image/png">
	<img src="blank.gif" id="preview">
</body>
	<script type="text/javascript">
		var elem = document.getElementById('files');
		elem.onchange = function (event){
			var files = event.target.files;
			for(var i = 0;i<files.length;i++){
				if(files[i].type.indexOf('image/*')!== -1&& files[i].size<204800){
					console.log(files[i].name);
				}
			}
		}

		// 上传图片预览
		var elem = document.getElementById('files'),
        img = document.getElementById('preview');
	    elem.onchange = function () {
	        var files = elem.files,
	            reader = new FileReader();
	        if(files && files[0]){
	            reader.onload = function (ev) {
	                img.src = ev.target.result;
	            }
	            reader.readAsDataURL(files[0]);
	        }
	    }
	</script>
</html>